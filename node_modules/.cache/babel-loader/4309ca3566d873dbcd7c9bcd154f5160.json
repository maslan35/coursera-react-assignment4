{"ast":null,"code":"import _classCallCheck from\"C:/Users/Mahmut Aslan/Desktop/coursera-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/Mahmut Aslan/Desktop/coursera-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/Users/Mahmut Aslan/Desktop/coursera-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/Users/Mahmut Aslan/Desktop/coursera-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/Mahmut Aslan/Desktop/coursera-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Card,CardImg,CardText,CardBody,CardTitle,Breadcrumb,BreadcrumbItem,Button,Modal,ModalHeader,ModalBody,Label,Row,Col}from'reactstrap';import{Link}from'react-router-dom';import{Control,Errors,LocalForm}from'react-redux-form';import{Loading}from'./LoadingComponent';import{baseUrl}from'../shared/baseUrl';import{FadeTransform,Fade,Stagger}from'react-animation-components';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var required=function required(val){return val&&val.length;};//value > 0\nvar maxLength=function maxLength(len){return function(val){return!val||val.length<=len;};};var minLength=function minLength(len){return function(val){return val&&val.length>=len;};};var CommentForm=/*#__PURE__*/function(_Component){_inherits(CommentForm,_Component);var _super=_createSuper(CommentForm);function CommentForm(props){var _this;_classCallCheck(this,CommentForm);_this=_super.call(this,props);_this.toggleModal=_this.toggleModal.bind(_assertThisInitialized(_this));_this.handleComment=_this.handleComment.bind(_assertThisInitialized(_this));_this.state={isModalOpen:false};return _this;}_createClass(CommentForm,[{key:\"toggleModal\",value:function toggleModal(){this.setState({isModalOpen:!this.state.isModalOpen});}},{key:\"handleComment\",value:function handleComment(values){this.toggleModal();this.props.postComment(this.props.dishId,values.rating,values.author,values.comment);}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(Button,{outline:true,onClick:this.toggleModal,children:/*#__PURE__*/_jsx(\"span\",{className:\"fa fa-comments fa-lg\",children:\"Submit Comment\"})}),/*#__PURE__*/_jsxs(Modal,{isOpen:this.state.isModalOpen,toggle:this.toggleModal,children:[/*#__PURE__*/_jsx(ModalHeader,{toggle:this.toggleModal,children:\"Submit Comment\"}),/*#__PURE__*/_jsx(ModalBody,{children:/*#__PURE__*/_jsxs(LocalForm,{onSubmit:function onSubmit(values){return _this2.handleComment(values);},children:[/*#__PURE__*/_jsxs(Row,{className:\"form-group\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"rating\",md:12,children:\"Rating\"}),/*#__PURE__*/_jsxs(Col,{md:12,children:[/*#__PURE__*/_jsxs(Control.select,{model:\"rating\",className:\"form-control\",name:\"rating\",id:\"rating\",validators:{required:required},children:[/*#__PURE__*/_jsx(\"option\",{children:\"Please Select\"}),/*#__PURE__*/_jsx(\"option\",{children:\"1\"}),/*#__PURE__*/_jsx(\"option\",{children:\"2\"}),/*#__PURE__*/_jsx(\"option\",{children:\"3\"}),/*#__PURE__*/_jsx(\"option\",{children:\"4\"}),/*#__PURE__*/_jsx(\"option\",{children:\"5\"})]}),/*#__PURE__*/_jsx(Errors,{className:\"text-danger\",model:\".author\",show:\"touched\",messages:{required:'Required'}})]})]}),/*#__PURE__*/_jsxs(Row,{className:\"form-group\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"author\",md:12,children:\"Your name\"}),/*#__PURE__*/_jsxs(Col,{md:12,children:[/*#__PURE__*/_jsx(Control.text,{model:\".author\",id:\"author\",name:\"author\",placeholder:\"First Name\",className:\"form-control\",validators:{required:required,minLength:minLength(3),maxLength:maxLength(15)}}),/*#__PURE__*/_jsx(Errors,{className:\"text-danger\",model:\".author\",show:\"touched\",messages:{required:'Required',minLength:\"Must be greater than 2 characters\",maxLength:\"Must be 15 character or less\"}})]})]}),/*#__PURE__*/_jsxs(Row,{className:\"form-group\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"comment\",md:12,children:\"Comment\"}),/*#__PURE__*/_jsxs(Col,{md:12,children:[/*#__PURE__*/_jsx(Control.textarea,{model:\".comment\",id:\"comment\",name:\"comment\",rows:\"6\",className:\"form-control\",validators:{required:required}}),/*#__PURE__*/_jsx(Errors,{className:\"text-danger\",model:\".author\",show:\"touched\",messages:{required:'Required'}})]})]}),/*#__PURE__*/_jsx(Row,{className:\"form-group\",children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Button,{type:\"submit\",color:\"primary\",children:\"Submit\"})})})]})})]})]});}}]);return CommentForm;}(Component);function RenderDish(_ref){var dish=_ref.dish;if(dish!=null){return/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-md-5 m-1\",children:/*#__PURE__*/_jsx(FadeTransform,{in:true,transformProps:{exitTransform:'scale(0.5) translateY(-50%)'},children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(CardImg,{top:true,src:baseUrl+dish.image,alt:dish.name}),/*#__PURE__*/_jsxs(CardBody,{children:[/*#__PURE__*/_jsx(CardTitle,{children:dish.name}),/*#__PURE__*/_jsx(CardText,{children:dish.description})]})]})})});}else{return/*#__PURE__*/_jsx(\"div\",{});}}function RenderComments(_ref2){var comments=_ref2.comments,postComment=_ref2.postComment,dishId=_ref2.dishId;if(comments!=null){return/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 col-md-5 m-1\",children:[/*#__PURE__*/_jsx(\"ul\",{className:\"list-unstyled\",children:comments.map(function(comment){return/*#__PURE__*/_jsx(Stagger,{in:true,children:comments.map(function(comment){return/*#__PURE__*/_jsx(Fade,{in:true,children:/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"p\",{children:comment.comment}),/*#__PURE__*/_jsxs(\"p\",{children:[\"-- \",comment.author,\" , \",new Intl.DateTimeFormat('en-US',{year:'numeric',month:'short',day:'2-digit'}).format(new Date(Date.parse(comment.date)))]})]},comment.id)});})});})}),/*#__PURE__*/_jsx(CommentForm,{dishId:dishId,addComment:postComment})]});}else{/*#__PURE__*/_jsx(\"div\",{});}}var DishDetail=function DishDetail(props){if(props.isLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(Loading,{})})});}else if(props.errMess){return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"h4\",{children:props.errMess})})});}else if(props.dish!=null)if(props.dish!=null){return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(Breadcrumb,{children:[/*#__PURE__*/_jsx(BreadcrumbItem,{children:/*#__PURE__*/_jsx(Link,{to:\"/menu\",children:\"Menu\"})}),/*#__PURE__*/_jsx(BreadcrumbItem,{active:true,children:props.dish.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsx(\"h3\",{children:props.dish.name}),/*#__PURE__*/_jsx(\"hr\",{})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(RenderDish,{dish:props.dish}),/*#__PURE__*/_jsx(RenderComments,{comments:props.comments,postComment:props.postComment,dishId:props.dish.id})]})]});}else{return/*#__PURE__*/_jsx(\"div\",{});}};export default DishDetail;","map":{"version":3,"sources":["C:/Users/Mahmut Aslan/Desktop/coursera-react/src/components/DishdetailComponent.js"],"names":["React","Component","Card","CardImg","CardText","CardBody","CardTitle","Breadcrumb","BreadcrumbItem","Button","Modal","ModalHeader","ModalBody","Label","Row","Col","Link","Control","Errors","LocalForm","Loading","baseUrl","FadeTransform","Fade","Stagger","required","val","length","maxLength","len","minLength","CommentForm","props","toggleModal","bind","handleComment","state","isModalOpen","setState","values","postComment","dishId","rating","author","comment","RenderDish","dish","exitTransform","image","name","description","RenderComments","comments","map","Intl","DateTimeFormat","year","month","day","format","Date","parse","date","id","DishDetail","isLoading","errMess"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Card, CardImg, CardText, CardBody,CardTitle, Breadcrumb, BreadcrumbItem,Button, Modal, ModalHeader, ModalBody,\r\n     Label, Row, Col } from 'reactstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport { Control, Errors, LocalForm } from 'react-redux-form';\r\nimport { Loading } from './LoadingComponent';\r\nimport { baseUrl } from '../shared/baseUrl';\r\nimport { FadeTransform, Fade, Stagger } from 'react-animation-components';\r\n\r\nconst required = (val) => val && val.length; //value > 0\r\nconst maxLength = (len) => (val) => !(val) || (val.length <= len);\r\nconst minLength = (len) => (val) => (val) && (val.length >= len);\r\n\r\n\r\n\r\nclass CommentForm extends Component{\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.toggleModal = this.toggleModal.bind(this);\r\n        this.handleComment=this.handleComment.bind(this);\r\n        this.state={\r\n            isModalOpen:false\r\n        }\r\n    }\r\n    \r\n    toggleModal() {\r\n        this.setState({\r\n          isModalOpen: !this.state.isModalOpen\r\n        });\r\n      }\r\n      handleComment(values) {\r\n        this.toggleModal();\r\n        this.props.postComment(this.props.dishId,values.rating,values.author,values.comment);\r\n    \r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <React.Fragment>\r\n                <Button outline onClick={this.toggleModal}>\r\n                    <span className=\"fa fa-comments fa-lg\">Submit Comment</span>\r\n                </Button>\r\n\r\n                <Modal isOpen={this.state.isModalOpen} toggle={this.toggleModal}>\r\n                    <ModalHeader toggle={this.toggleModal}>Submit Comment</ModalHeader>\r\n                    <ModalBody>\r\n                        <LocalForm onSubmit={(values) => this.handleComment(values)}>\r\n                            <Row className=\"form-group\">\r\n                                <Label htmlFor=\"rating\" md={12}>Rating</Label>\r\n                                <Col md={12}>\r\n                                    <Control.select model=\"rating\" className=\"form-control\" name=\"rating\" id=\"rating\" validators={{required}}>\r\n                                        <option>Please Select</option>\r\n                                        <option>1</option>\r\n                                        <option>2</option>\r\n                                        <option>3</option>\r\n                                        <option>4</option>\r\n                                        <option>5</option>\r\n                                    </Control.select>\r\n                                    <Errors className=\"text-danger\" model=\".author\" show=\"touched\" messages={{required:'Required'}}/>\r\n                                </Col>\r\n                            </Row>\r\n\r\n                            <Row className=\"form-group\">\r\n                                <Label htmlFor=\"author\" md={12}>Your name</Label>\r\n                                <Col md={12}>\r\n                                    <Control.text model=\".author\" id=\"author\" name=\"author\" placeholder=\"First Name\"\r\n                                    className=\"form-control\" validators={{required,minLength:minLength(3),maxLength:maxLength(15)}} />\r\n                                    <Errors className=\"text-danger\" model=\".author\" show=\"touched\" messages={{required:'Required',\r\n                                minLength:\"Must be greater than 2 characters\",\r\n                                maxLength:\"Must be 15 character or less\"}}/>\r\n                                </Col>\r\n                            </Row>\r\n                            <Row className=\"form-group\">\r\n                                <Label htmlFor=\"comment\" md={12}>Comment</Label>\r\n                                <Col md={12}>\r\n                                    <Control.textarea model=\".comment\" id=\"comment\" name=\"comment\" rows=\"6\" className=\"form-control\" validators={{required}}/>\r\n                                    <Errors className=\"text-danger\" model=\".author\" show=\"touched\" messages={{required:'Required'}}/>\r\n                                </Col>\r\n                            </Row>\r\n                            <Row className=\"form-group\">\r\n                                <Col>\r\n                                    <Button type=\"submit\" color=\"primary\">Submit</Button>\r\n                                </Col>\r\n                            </Row>\r\n                        </LocalForm>\r\n                    </ModalBody>\r\n                </Modal>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n    function RenderDish({dish}){\r\n        if(dish != null){\r\n            return(\r\n                <div className='col-12 col-md-5 m-1'>\r\n                    <FadeTransform\r\n                        in\r\n                        transformProps={{\r\n                            exitTransform: 'scale(0.5) translateY(-50%)'\r\n                        }}>\r\n                        <Card>\r\n                            <CardImg top src={baseUrl + dish.image} alt={dish.name} />\r\n                            <CardBody>\r\n                                <CardTitle>{dish.name}</CardTitle>\r\n                                <CardText>{dish.description}</CardText>\r\n                            </CardBody>\r\n                        </Card>\r\n                    </FadeTransform>\r\n                </div>\r\n            )\r\n        }else{\r\n            return(<div></div>)\r\n        }\r\n    }\r\n\r\n    function RenderComments({comments, postComment, dishId}){\r\n        if(comments!=null){\r\n                return(\r\n                    <div className=\"col-12 col-md-5 m-1\">\r\n                        <ul className=\"list-unstyled\">\r\n                            {comments.map((comment)=>{\r\n                                return(\r\n                                    <Stagger in>\r\n                                    {comments.map((comment) => {\r\n                                        return (\r\n                                            <Fade in>\r\n                                            <li key={comment.id}>\r\n                                            <p>{comment.comment}</p>\r\n                                            <p>-- {comment.author} , {new Intl.DateTimeFormat('en-US', { year: 'numeric', month: 'short', day: '2-digit'})\r\n                                            .format(new Date(Date.parse(comment.date)))}</p>\r\n                                            </li>\r\n                                            </Fade>\r\n                                        );\r\n                                    })}\r\n                                    </Stagger>\r\n                                );\r\n                            })}\r\n                        </ul>\r\n                        \r\n                        <CommentForm dishId={dishId} addComment={postComment} />\r\n                    </div>                     \r\n                )\r\n        }\r\n        else{\r\n            <div></div>\r\n        }\r\n    }\r\n\r\n        const DishDetail= (props)=> {\r\n            if (props.isLoading) {\r\n                return(\r\n                    <div className=\"container\">\r\n                        <div className=\"row\">            \r\n                            <Loading />\r\n                        </div>\r\n                    </div>\r\n                );\r\n            }\r\n            else if (props.errMess) {\r\n                return(\r\n                    <div className=\"container\">\r\n                        <div className=\"row\">            \r\n                            <h4>{props.errMess}</h4>\r\n                        </div>\r\n                    </div>\r\n                );\r\n            }\r\n            else if (props.dish != null) \r\n            \r\n            if(props.dish!=null){\r\n                return (\r\n                    <div className=\"container\">\r\n                    <div className=\"row\">\r\n                        <Breadcrumb>\r\n    \r\n                            <BreadcrumbItem><Link to=\"/menu\">Menu</Link></BreadcrumbItem>\r\n                            <BreadcrumbItem active>{props.dish.name}</BreadcrumbItem>\r\n                        </Breadcrumb>\r\n                        <div className=\"col-12\">\r\n                            <h3>{props.dish.name}</h3>\r\n                            <hr />\r\n                        </div>                \r\n                    </div>\r\n                    <div className=\"row\">\r\n                        <RenderDish dish={props.dish} />\r\n                         <RenderComments comments={props.comments}\r\n                            postComment={props.postComment}\r\n                            dishId={props.dish.id}/>\r\n                            \r\n                        </div>\r\n                    </div>\r\n                    \r\n                );\r\n            }\r\n            else{\r\n                return(\r\n                    <div></div>\r\n                )\r\n            }\r\n            \r\n        }\r\n        \r\n\r\nexport default DishDetail;"]},"metadata":{},"sourceType":"module"}