{"ast":null,"code":"import _classCallCheck from\"C:/Users/Mahmut Aslan/Desktop/coursera-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/Mahmut Aslan/Desktop/coursera-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/Mahmut Aslan/Desktop/coursera-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/Mahmut Aslan/Desktop/coursera-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import Menu from'./MenuComponent';import Header from'./Header';import Footer from'./Footer';import About from'./AboutComponent';import Home from'./Home';import{Switch,Route,Redirect,withRouter}from'react-router-dom';import Contact from'./contactComponent';import DishDetail from'./DishdetailComponent';import{connect}from'react-redux';import{postComment as _postComment,fetchDishes as _fetchDishes,fetchComments as _fetchComments,fetchPromos as _fetchPromos,fetchLeaders as _fetchLeaders,postFeedback as _postFeedback}from'../redux/ActionCreators';import{actions}from'react-redux-form';import{TransitionGroup,CSSTransition}from'react-transition-group';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var mapStateToProps=function mapStateToProps(state){return{dishes:state.dishes,comments:state.comments,promotions:state.promotions,leaders:state.leaders};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{postComment:function postComment(dishId,rating,author,comment){return dispatch(_postComment(dishId,rating,author,comment));},postFeedback:function postFeedback(firstname,lastname,telnum,email,agree,contactType,message){return dispatch(_postFeedback(firstname,lastname,telnum,email,agree,contactType,message));},fetchDishes:function fetchDishes(){dispatch(_fetchDishes());},resetFeedbackForm:function resetFeedbackForm(){dispatch(actions.reset('feedback'));},fetchComments:function fetchComments(){return dispatch(_fetchComments());},fetchPromos:function fetchPromos(){return dispatch(_fetchPromos());},fetchLeaders:function fetchLeaders(){return dispatch(_fetchLeaders());}};};var Main=/*#__PURE__*/function(_Component){_inherits(Main,_Component);var _super=_createSuper(Main);function Main(){_classCallCheck(this,Main);return _super.apply(this,arguments);}_createClass(Main,[{key:\"componentDidMount\",value:function componentDidMount(){this.props.fetchDishes();this.props.fetchComments();this.props.fetchPromos();this.props.fetchLeaders();}},{key:\"render\",value:function render(){var _this=this;var HomePage=function HomePage(){return/*#__PURE__*/_jsx(Home,{dish:_this.props.dishes.dishes.filter(function(dish){return dish.featured;})[0],dishesLoading:_this.props.dishes.isLoading,dishErrMess:_this.props.dishes.errMess,promotion:_this.props.promotions.promotions.filter(function(promo){return promo.featured;})[0],promoLoading:_this.props.promotions.isLoading,promoErrMess:_this.props.promotions.errMess,leader:_this.props.leaders.leaders.filter(function(leader){return leader.featured;})[0],leaderLoading:_this.props.leaders.isLoading,leaderErrMess:_this.props.leaders.errMess});};var AboutUs=function AboutUs(){return/*#__PURE__*/_jsx(About,{leaders:_this.props.leaders.leaders,leaderLoading:_this.props.leaders.isLoading,leaderErrMess:_this.props.leaders.errMess});};var DishWithId=function DishWithId(_ref){var match=_ref.match;return/*#__PURE__*/_jsx(DishDetail,{dish:_this.props.dishes.dishes.filter(function(dish){return dish.id===parseInt(match.params.dishId,10);})[0],isLoading:_this.props.dishes.isLoading,errMess:_this.props.dishes.errMess,comments:_this.props.comments.comments.filter(function(comment){return comment.dishId===parseInt(match.params.dishId,10);}),commentsErrMess:_this.props.comments.errMess,postComment:_this.props.postComment});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(TransitionGroup,{children:/*#__PURE__*/_jsx(CSSTransition,{classNames:\"page\",timeout:300,children:/*#__PURE__*/_jsxs(Switch,{location:this.props.location,children:[/*#__PURE__*/_jsx(Route,{path:\"/home\",component:HomePage}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/aboutus\",component:AboutUs}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/menu\",component:function component(){return/*#__PURE__*/_jsx(Menu,{dishes:_this.props.dishes});}}),/*#__PURE__*/_jsx(Route,{path:\"/menu/:dishId\",component:DishWithId}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/contactus\",component:function component(){return/*#__PURE__*/_jsx(Contact,{resetFeedbackForm:_this.props.resetFeedbackForm});}}),/*#__PURE__*/_jsx(Redirect,{to:\"/home\"})]})},this.props.location.key)}),/*#__PURE__*/_jsx(Footer,{})]});}}]);return Main;}(Component);export default withRouter(connect(mapStateToProps,mapDispatchToProps)(Main));","map":{"version":3,"sources":["C:/Users/Mahmut Aslan/Desktop/coursera-react/src/components/MainComponent.js"],"names":["React","Component","Menu","Header","Footer","About","Home","Switch","Route","Redirect","withRouter","Contact","DishDetail","connect","postComment","fetchDishes","fetchComments","fetchPromos","fetchLeaders","postFeedback","actions","TransitionGroup","CSSTransition","mapStateToProps","state","dishes","comments","promotions","leaders","mapDispatchToProps","dispatch","dishId","rating","author","comment","firstname","lastname","telnum","email","agree","contactType","message","resetFeedbackForm","reset","Main","props","HomePage","filter","dish","featured","isLoading","errMess","promo","leader","AboutUs","DishWithId","match","id","parseInt","params","location","key"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport Menu from './MenuComponent';\r\nimport Header from './Header';\r\nimport Footer from './Footer';\r\nimport About from './AboutComponent'\r\nimport Home from './Home';\r\nimport { Switch, Route, Redirect,withRouter } from 'react-router-dom';\r\nimport Contact from './contactComponent';\r\nimport DishDetail from './DishdetailComponent';\r\nimport { connect } from 'react-redux';\r\nimport { postComment, fetchDishes, fetchComments, fetchPromos, fetchLeaders, postFeedback } from '../redux/ActionCreators';\r\nimport { actions } from 'react-redux-form';\r\nimport { TransitionGroup, CSSTransition } from 'react-transition-group';\r\n\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    dishes: state.dishes,\r\n    comments: state.comments,\r\n    promotions: state.promotions,\r\n    leaders: state.leaders\r\n  }\r\n}\r\nconst mapDispatchToProps = dispatch => ({\r\n  \r\n  postComment: (dishId, rating, author, comment) => dispatch(postComment(dishId, rating, author, comment)),\r\n  postFeedback:(firstname, lastname, telnum, email, agree, contactType, message)=>dispatch(postFeedback(firstname, lastname, telnum, email, agree, contactType, message)),\r\n  fetchDishes: () => { dispatch(fetchDishes())},\r\n  resetFeedbackForm: () => { dispatch(actions.reset('feedback'))},\r\n  fetchComments: () => dispatch(fetchComments()),\r\n  fetchPromos: () => dispatch(fetchPromos()),\r\n  fetchLeaders:()=> dispatch(fetchLeaders())\r\n\r\n});\r\n\r\nclass Main extends Component {\r\n\r\n  componentDidMount() {\r\n    this.props.fetchDishes();\r\n    this.props.fetchComments();\r\n    this.props.fetchPromos();\r\n    this.props.fetchLeaders();\r\n  }\r\n  \r\n\r\n  render() {\r\n    const HomePage = () =>{\r\n      return(\r\n        <Home dish={this.props.dishes.dishes.filter((dish) => dish.featured)[0]}\r\n        dishesLoading={this.props.dishes.isLoading}\r\n        dishErrMess={this.props.dishes.errMess}\r\n\r\n        promotion={this.props.promotions.promotions.filter((promo) => promo.featured)[0]}\r\n        promoLoading={this.props.promotions.isLoading}\r\n        promoErrMess={this.props.promotions.errMess}\r\n\r\n        leader={this.props.leaders.leaders.filter((leader) => leader.featured)[0]}\r\n        leaderLoading={this.props.leaders.isLoading}\r\n        leaderErrMess={this.props.leaders.errMess}/>\r\n      );\r\n    }\r\n\r\n    const AboutUs=() =>{\r\n      return(\r\n        <About \r\n            leaders={this.props.leaders.leaders}\r\n            leaderLoading={this.props.leaders.isLoading}\r\n            leaderErrMess={this.props.leaders.errMess}\r\n        />\r\n      )\r\n    }\r\n\r\n    const DishWithId = ({match}) => {\r\n      return(\r\n        <DishDetail dish={this.props.dishes.dishes.filter((dish) => dish.id === parseInt(match.params.dishId,10))[0]}\r\n        isLoading={this.props.dishes.isLoading}\r\n        errMess={this.props.dishes.errMess}\r\n        comments={this.props.comments.comments.filter((comment) => comment.dishId === parseInt(match.params.dishId,10))}\r\n        commentsErrMess={this.props.comments.errMess}\r\n        postComment={this.props.postComment}\r\n      />\r\n      );\r\n    };\r\n    return (\r\n      <div>\r\n        <Header />\r\n        <TransitionGroup>\r\n            <CSSTransition key={this.props.location.key} classNames=\"page\" timeout={300}>\r\n              <Switch location={this.props.location}>\r\n                  <Route path='/home' component={HomePage} />\r\n                  <Route exact path='/aboutus' component={AboutUs} />\r\n                  <Route exact path='/menu' component={() => <Menu dishes={this.props.dishes} />} />\r\n                  <Route path='/menu/:dishId' component={DishWithId} />\r\n                  <Route exact path='/contactus' component={() => <Contact resetFeedbackForm={this.props.resetFeedbackForm} />} />\r\n                  <Redirect to=\"/home\" />\r\n              </Switch>\r\n            </CSSTransition>\r\n          </TransitionGroup>\r\n        \r\n        <Footer />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps,mapDispatchToProps)(Main));"]},"metadata":{},"sourceType":"module"}